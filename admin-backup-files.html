<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Chivo:900">
    <link rel="stylesheet" type="text/css" href="css/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="css/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>admin-backup-files | Simple-Admin for Ubuntu</title>
  </head>

  <body>
    <div class="container">
      <div class="inner">

        <header>
          <h1>Simple-Admin for Ubuntu</h1>
          <h2>Scripts for simplified Ubuntu server administration.</h2>
        </header>

        <section class="links clearfix">
          <a href="index.html" class="button back"><span>Start Page</span></a>
        </section>

        <hr>

        <section class="main">

<h2>admin-backup-files</h2>

<p>Performs a filesystem backup for configured directories.</p>

<p><strong>Syntax:</strong> <code>admin-backup-files [-v]</code></p>

<table>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
<tr>
<td>-v</td>
<td>Print verbose output.</td>
</tr>
</table>

<p>Configured in <code>/etc/admin-backup-files.conf</code> with one line
per directory to backup:</p>

<pre><code>/etc
/home
/root
/var/log   5
</code></pre>

<p>All the files in the directories specified will be recursively copied to a
new directory <code>/backup/&lt;hostname&gt;/files/&lt;timestamp&gt;</code>.
A symbolic link <code>/backup/&lt;hostname&gt;/files/latest</code> always points
to the last completed backup directory. An optional number after each directory
specifies the maximum number of days to store the files (differing from the
standard retention policy below).</p>

<p>In order to save space, identical files are hard linked between the current
and the previous backup directories. Only modified files (and the directory
structure) will require more space on the disk.</p>

<p>The first backup every month and day are created with a different timestamp
signature (omitting the hour and minute). The monthly backup directories are
kept indefinitely, but the daily directories are only preserved for 30 days.
Other timestamped backup directories will be preserved for 24 hours.</p>

<p>The file backup can be run as frequently as every minute, but should
probably be run at least once per day.</p>

        </section>

        <footer>
          Simple-Admin for Ubuntu is maintained by <a href="https://github.com/cederberg">Per Cederberg</a><br>
          This page was adapted from
          <a href="http://pages.github.com">GitHub Pages</a> with tactile theme
          by <a href="http://twitter.com/jasonlong">Jason Long</a>.
        </footer>

      </div>
    </div>

    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-7324321-5']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
    </script>
  </body>
</html>
